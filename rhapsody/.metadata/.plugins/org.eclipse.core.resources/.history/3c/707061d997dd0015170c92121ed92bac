[#package generateFiacreMain]
[#import generateProcess.*]
[#import generateComponent.*]

[#template public generateFiacre( p: fiacreMM.Program)]
[#file]generatedFiacre/${p.Name}.fcr[/#file]

[#foreach c : fiacreMM.Component in p.components]
	/*process*/
	[#set nb = 0]
	[#foreach process : fiacreMM.Process in c.instances]
		[#if nb == 0]
			[#if process.Name == "Sensor"]
				[#set nb = 1]
			[/#if]
			[#include genProcess(process)]
		[/#if]
	[/#foreach]
	/*Component*/
	[#include genComponent(c)]
[/#foreach]

[/#template]
